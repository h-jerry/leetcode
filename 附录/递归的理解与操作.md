## 递归的三大要素

1. 第一要素：明确你这个函数想要干什么

对于递归，我觉得你首先要明确这个函数的功能是什么，他要完成一件什么样的事，而这个，是完全由你来定的，也就是说，不管函数里的代码是什么，而是要先明白，你这个函数要用来干什么

例如，我定义了一个函数

```java
//函数的功能是计算n的阶乘
int f(int n){

}
```
2. 第二要素：寻找递归结束的条件

所谓的递归就是会在函数内部代码中，在调用函数本身，所以，我们必须要找出递归结束的条件，不然它会一直自己调用自己，进入死循环，最终报错。也就是说，我们要知道，当我们的参数是什么的时候结果是什么。
例如上面的例子，当n=1时，我们知道结果为1，所以f(1)=1是吧。然后我们完善我们的代码，把第二个要素加入进去。
```java
//函数的功能是计算n的阶乘
int f(int n){
    if(n==1){
        return 1;
    }
}
```

3. 第三要素：找出函数的等价关系式

第三要素就是说，我们要不断的缩小参数的范围，缩小之后，我们可以通过一此辅助的变量或操作，使原函数的结果不变。

例如：f(n)的范围太大，我们可以让f(n)=n * f(n-1)。这样，范围就由n变成了n-1了， 范围变小了，并且为了原函数f(n)不变，我们需要让f(n-1) * n这个就是等价关系式.继续完善我们的代码

```
//函数的功能是计算n的阶乘
int f(int n){
    if(n==1){
        return 1;
    }
    return fun(n-1)*n;
}
```

至此，我们这个递归函数就写完了，这就是递归的三大要素，我们写递归函数的时候，就强迫自己根据这三大要素去写。就会理解的越来越透彻。接下来我们根据这三大要素，看看几个案例



## 递归案例

### 一、斐波那契数列

>  斐波那契数列的是这样一个数列：1、1、2、3、5、8、13、21、34....，即第一项 f(1) = 1,第二项 f(2) = 1.....,第 n 项目为 f(n) = f(n-1) + f(n-2)。求第 n 项的值是多少。 

1.确定函数的功能

通过要求可以看出，函数的功能就是计算n位的之前n-1,n-2,n-3.....1的总和

```java
int f(int n){

}
```

2.找到函数结束的条件和结果

我们可以看到当n==1时，结果为1，第n为2时结果为1，所以我们继续补充方法

```java
int f(int n){
    if(n==1 || n==2){
        return 1;
    }
}
```

3.找出函数的等价关系式

我们可以看到，f(3)=f(2)+f(1),其中f(2)和f(1)通过上面的结束条件可以得到结果为1，所以f(3)=1+1,f(3)就等于2。同理f(4)=f(3)+f(2) f(3)刚才算出等于2，f(2)=1,所以f(4)=3。这样就找出等价关系式为f(n)=f(n-1)+f(n-2)。这样，我们继续完成函数

```java
int f(int n){
    if(n==1 || n==2){
        return 1;
    }
    return f(n-2)+f(n-1);
}
```

这样，我们的函数就完成了。

### 二、小青蛙跳台阶

>  一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级的台阶总共有多少种跳法。 

1.确定函数的功能

通过要求可以看出，函数的功能就是计算青蛙跳上一个n级的台阶总共有多少种跳法

```java
int f(int n){

}
```

2.找到函数结束的条件和结果

之前说过，找条件就是要计算当参数足够小的时候的结果。我们知道，当还剩下1个台阶的时候就只有一个跳法

还剩下2个台阶时，有两种跳法

```java

int f(int n){
    if(n<=2){
        return n;
    }
}
```

3.找出函数的等价关系式

我们可以看出，假如第一次只跳1级，那就剩下n-1个台阶，n-1个台阶就有f(n-1)种跳法，如果第一次跳二级，那就剩下n-2个台阶，n-2个台阶就有f(n-2)种跳法

```java
int f(int n){
    if(n<=2){
        return n;
    }
    return f(n-1)+f(n-2);
}
```



